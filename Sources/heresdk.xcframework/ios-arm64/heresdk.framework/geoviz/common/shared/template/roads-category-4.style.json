{"styles": [{"id": "road_labels_4", "layer": "tilezen_lines", "when": ["all", ["ref", "Is.Roads.Layer"], ["ref", "Is.Street.Category4"], ["!", ["ref", "Is.RailFerry"]], ["ref", "Street.Category4.Label.Display.Enabled"]], "technique": "text", "description": "Street Category 4 Labels", "attr": {"category": "road4-labels", "minZoomLevel": ["case", ["ref", "Is.RestrictedAccess"], 15, ["ref", "Street.Category4.MinZoomLevel"]], "margin": ["ref", "Default.Margin"], "persisting-margin-reducing": ["ref", "Default.PersistingMargin.Reducing"], "font": ["ref", "Default.Font"], "shape": "line", "vertical-alignment": "Dynamic", "replaceable": true, "new-label-spread-frames": 10, "fade-time": 0.3, "far-threshold": 0.85, "far-threshold-range": 0.015, "polyline-padding-px": 2, "dual-language-leading-space": ["ppi-scale", ["ref", "Label.DualLanguage.Leading"], ["ref", "ScalePPI.Labels"]], "softdepth": ["ref", "SoftDepth.Threshold"], "anchor-point-density": ["step", ["zoom"], 5, 8, 20, 16, 40], "line-width": ["case", ["ref", "Is.Unpaved"], ["world-scale", ["ref", "Street.Category4.Unpaved.Width"]], ["ref", "Is.Ramp"], ["world-scale", ["ref", "Street.Category4.Ramp.Width"]], ["ref", "Internal.Street.Category4.LineWidthZoom"]], "color": ["case", ["ref", "Is.Unpaved"], ["contrast", ["brightness", ["ref", "Street.Category4.Label.Unpaved.Color"], ["ref", "Street.Label.Color.Brightness"]], ["ref", "Street.Label.Color.Contrast"]], ["ref", "Is.Toll.Enabled"], ["contrast", ["brightness", ["ref", "Street.Category4.Label.Toll.Color"], ["ref", "Street.Label.Color.Brightness"]], ["ref", "Street.Label.Color.Contrast"]], ["contrast", ["brightness", ["ref", "Street.Category4.Label.Color"], ["ref", "Street.Label.Color.Brightness"]], ["ref", "Street.Label.Color.Contrast"]]], "outline-color": ["case", ["ref", "Is.Unpaved"], ["contrast", ["brightness", ["ref", "Street.Category4.Label.Unpaved.Outline.Color"], ["ref", "Street.Label.Outline.Color.Brightness"]], ["ref", "Street.Label.Outline.Color.Contrast"]], ["ref", "Is.Toll.Enabled"], ["contrast", ["brightness", ["ref", "Street.Category4.Label.Toll.Outline.Color"], ["ref", "Street.Label.Outline.Color.Brightness"]], ["ref", "Street.Label.Outline.Color.Contrast"]], ["contrast", ["brightness", ["ref", "Street.Category4.Label.Outline.Color"], ["ref", "Street.Label.Outline.Color.Brightness"]], ["ref", "Street.Label.Outline.Color.Contrast"]]], "size": ["case", ["ref", "Is.Ramp"], ["ppi-scale", ["ref", "Street.Category4.Label.Ramp.Size"], ["ref", "ScalePPI.Labels"]], ["ppi-scale", ["ref", "Street.Category4.Label.Size"], ["ref", "ScalePPI.Labels"]]], "outline-width": ["ppi-scale", ["ref", "Street.Category4.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], "case-conversion": ["ref", "Street.Category4.Label.Variant"], "min-world-line-length": ["ref", "Street.Label.MinWorldLineLength"]}}, {"id": "roads_4", "layer": "tilezen_lines", "when": ["all", ["ref", "Is.Roads.Layer"], ["ref", "Is.Street.Category4"], ["!", ["ref", "Is.Japan.HasPolygonalRoads"]], ["!", ["ref", "Is.RailFerry"]], ["!", ["ref", "Is.Ski.Downhill"]]], "technique": "line", "description": "Street Category 4 Line", "attr": {"category": ["ref", "Internal.Street.Category4.RenderPass"], "minZoomLevel": ["ref", "Street.Category4.MinZoomLevel"], "maxZoomLevel": ["ref", "Internal.Street.Having.PolygonalRoads.MaxZoomLevel"], "lighting-enabled": ["ref", "Lighting.Enabled"], "ambient": ["ref", "Street.Category4.Ambient.Factor"], "diffuse": ["ref", "Street.Category4.Diffuse.Factor"], "alpha-blend-type": ["ref", "Alpha.Blend.Type"], "cap": ["case", ["ref", "Is.UnderConstruction"], "butt", null], "color": ["ref", "Internal.Street.Category4.Color"], "dash-gap-color": ["case", ["ref", "Is.UnderConstruction"], ["ref", "Transparent.Color"], ["ref", "Is.OneWay"], ["ref", "Internal.Street.Category4.ArrowColor"], null], "width": ["world-scale", ["ref", "Internal.Street.Category4.RoadWidth"]], "dasharray": ["case", ["ref", "Is.UnderConstruction"], ["make-vector", ["world-discrete-scale", ["ref", "Street.Category4.Construction.Gap.Length"]], ["world-discrete-scale", ["ref", "Street.Category4.Construction.Dash.Length"]], 0, 0], ["all", ["ref", "Is.OneWay"], ["!", ["ref", "Is.ParkingLot"]], ["ref", "Street.Arrow.Enabled"]], ["ref", "Internal.Street.Category4.ArrowDashArray"], null], "dash-image": ["case", ["all", ["ref", "Is.OneWay"], ["ref", "Street.Arrow.Enabled"], ["!", ["ref", "Is.UnderConstruction"]], ["!", ["ref", "Is.ParkingLot"]]], ["ref", "Street.Arrow.Asset"], null], "softdepth": ["ref", "SoftDepth.Threshold"]}}, {"id": "road_outlines_4", "layer": "tilezen_lines", "when": ["all", ["ref", "Is.Roads.Layer"], ["ref", "Is.Street.Category4"], ["!", ["ref", "Is.Japan.HasPolygonalRoads"]], ["!", ["ref", "Is.RailFerry"]], ["!", ["ref", "Is.Ski.Downhill"]]], "technique": "line", "description": "Street Category 4 Outline", "attr": {"category": ["case", ["ref", "Is.Tunnel"], "tunnel-outline-4", ["any", ["ref", "Is.Not.RoadZLevel"], ["==", ["get", "source"], "ipc"], ["<", ["get", "$storage-level"], 14]], ["case", ["ref", "Is.Bridge"], "bridge-outline-4", ["all", ["ref", "Is.Unpaved"], ["ref", "Is.ParkingLot"]], "unpaved-outline-4-parkinglot", ["ref", "Is.ParkingLot"], "road-outline-4-parkinglot", ["all", ["ref", "Is.Unpaved"], ["!", ["ref", "Is.ParkingLot"]], ["!", ["ref", "Is.RestrictedAccess"]]], "unpaved-outline-4", ["all", ["ref", "Is.Unpaved"], ["ref", "Is.RestrictedAccess"], ["!", ["ref", "Is.ParkingLot"]]], "unpaved-outline-4-restrictedaccess", ["ref", "Is.RestrictedAccess"], "road-outline-4-restrictedaccess", ["ref", "Is.Ramp"], "ramp-outline-4", "road-outline-4"], ["all", ["ref", "Is.ParkingLot"], ["<=", ["get", "z_level"], -1], ["ref", "Is.Unpaved"]], "unpaved-outline-4-parkinglot--1", ["all", ["ref", "Is.ParkingLot"], ["==", ["get", "z_level"], 0], ["ref", "Is.Unpaved"]], "unpaved-outline-4-parkinglot-0", ["all", ["ref", "Is.ParkingLot"], ["==", ["get", "z_level"], 1], ["ref", "Is.Unpaved"]], "unpaved-outline-4-parkinglot-1", ["all", ["ref", "Is.ParkingLot"], [">=", ["get", "z_level"], 2], ["ref", "Is.Unpaved"]], "unpaved-outline-4-parkinglot-2", ["all", ["ref", "Is.Unpaved"], ["ref", "Is.ParkingLot"]], "unpaved-outline-4-parkinglot", ["all", ["ref", "Is.ParkingLot"], ["<=", ["get", "z_level"], -1], ["!", ["ref", "Is.Unpaved"]]], "road-outline-4-parkinglot--1", ["all", ["ref", "Is.ParkingLot"], ["==", ["get", "z_level"], 0], ["!", ["ref", "Is.Unpaved"]]], "road-outline-4-parkinglot-0", ["all", ["ref", "Is.ParkingLot"], ["==", ["get", "z_level"], 1], ["!", ["ref", "Is.Unpaved"]]], "road-outline-4-parkinglot-1", ["all", ["ref", "Is.ParkingLot"], [">=", ["get", "z_level"], 2], ["!", ["ref", "Is.Unpaved"]]], "road-outline-4-parkinglot-2", ["ref", "Is.ParkingLot"], "road-outline-4-parkinglot", ["all", ["ref", "Is.Unpaved"], ["<=", ["get", "z_level"], -1], ["!", ["ref", "Is.ParkingLot"]], ["!", ["ref", "Is.RestrictedAccess"]]], "unpaved-outline-4--1", ["all", ["ref", "Is.Unpaved"], ["==", ["get", "z_level"], 0], ["!", ["ref", "Is.ParkingLot"]], ["!", ["ref", "Is.RestrictedAccess"]]], "unpaved-outline-4-0", ["all", ["ref", "Is.Unpaved"], ["==", ["get", "z_level"], 1], ["!", ["ref", "Is.ParkingLot"]], ["!", ["ref", "Is.RestrictedAccess"]]], "unpaved-outline-4-1", ["all", ["ref", "Is.Unpaved"], [">=", ["get", "z_level"], 2], ["!", ["ref", "Is.ParkingLot"]], ["!", ["ref", "Is.RestrictedAccess"]]], "unpaved-outline-4-2", ["all", ["ref", "Is.Unpaved"], ["<=", ["get", "z_level"], -1], ["ref", "Is.RestrictedAccess"], ["!", ["ref", "Is.ParkingLot"]]], "unpaved-outline-4-restrictedaccess--1", ["all", ["ref", "Is.Unpaved"], ["==", ["get", "z_level"], 0], ["ref", "Is.RestrictedAccess"], ["!", ["ref", "Is.ParkingLot"]]], "unpaved-outline-4-restrictedaccess-0", ["all", ["ref", "Is.Unpaved"], ["==", ["get", "z_level"], 1], ["ref", "Is.RestrictedAccess"], ["!", ["ref", "Is.ParkingLot"]]], "unpaved-outline-4-restrictedaccess-1", ["all", ["ref", "Is.Unpaved"], [">=", ["get", "z_level"], 2], ["ref", "Is.RestrictedAccess"], ["!", ["ref", "Is.ParkingLot"]]], "unpaved-outline-4-restrictedaccess-2", ["all", ["ref", "Is.RestrictedAccess"], ["<=", ["get", "z_level"], -1]], "road-outline-4-restrictedaccess--1", ["all", ["ref", "Is.RestrictedAccess"], ["==", ["get", "z_level"], 0]], "road-outline-4-restrictedaccess-0", ["all", ["ref", "Is.RestrictedAccess"], ["==", ["get", "z_level"], 1]], "road-outline-4-restrictedaccess-1", ["all", ["ref", "Is.RestrictedAccess"], [">=", ["get", "z_level"], 2]], "road-outline-4-restrictedaccess-2", ["all", ["ref", "Is.Ramp"], ["<=", ["get", "z_level"], -1]], "ramp-outline-4--1", ["all", ["ref", "Is.Ramp"], ["==", ["get", "z_level"], 0]], "ramp-outline-4-0", ["all", ["ref", "Is.Ramp"], ["==", ["get", "z_level"], 1]], "ramp-outline-4-1", ["all", ["ref", "Is.Ramp"], [">=", ["get", "z_level"], 2]], "ramp-outline-4-2", ["<=", ["get", "z_level"], -1], "road-outline-4--1", ["==", ["get", "z_level"], 0], "road-outline-4-0", ["==", ["get", "z_level"], 1], "road-outline-4-1", [">=", ["get", "z_level"], 2], "road-outline-4-2", "road-outline-4"], "minZoomLevel": ["ref", "Street.Category4.MinZoomLevel"], "maxZoomLevel": ["ref", "Internal.Street.Having.PolygonalRoads.MaxZoomLevel"], "lighting-enabled": ["ref", "Lighting.Enabled"], "ambient": ["ref", "Street.Category4.Ambient.Factor"], "diffuse": ["ref", "Street.Category4.Diffuse.Factor"], "alpha-blend-type": ["ref", "Alpha.Blend.Type"], "cap": ["case", ["ref", "Is.Not.RoadZLevel"], ["case", ["any", ["ref", "Is.UnderConstruction"], ["ref", "Is.Bridge"]], "butt", null], ["any", ["!=", ["get", "z_level"], 0], ["ref", "Is.UnderConstruction"], ["ref", "Is.Bridge"]], "butt", null], "color": ["case", ["all", ["ref", "Is.Toll.Enabled"], ["ref", "Is.Tunnel"]], ["ref", "Street.Category4.TollTunnel.Outline.Color"], ["ref", "Is.Tunnel"], ["ref", "Street.Category4.Tunnel.Outline.Color"], ["all", ["!", ["ref", "Is.RestrictedAccess"]], ["ref", "Is.Unpaved"]], ["ref", "Street.Category4.Unpaved.Outline.Color"], ["all", ["ref", "Is.RestrictedAccess"], ["!", ["ref", "Is.Unpaved"]]], ["ref", "Street.Category4.RestrictedAccess.Outline.Color"], ["all", ["ref", "Is.RestrictedAccess"], ["ref", "Is.Unpaved"]], ["ref", "Street.Category4.RestrictedAccessUnpaved.Outline.Color"], ["ref", "Is.Toll.Enabled"], ["ref", "Street.Category4.Toll.Outline.Color"], ["ref", "Is.ParkingLot"], ["ref", "Street.Category4.ParkingLot.Outline.Color"], ["ref", "Street.Category4.Outline.Color"]], "dash-gap-color": ["case", ["all", ["ref", "Is.Tunnel"], ["!", ["ref", "Is.UnderConstruction"]]], "#00000000", ["ref", "Is.UnderConstruction"], ["ref", "Transparent.Color"], null], "width": ["case", ["all", ["ref", "Is.RestrictedAccess"], ["ref", "Is.Unpaved"]], ["case", ["<=", ["ref", "Street.Category4.RestrictedAccess.Outline.Width"], 0], 0, ["world-scale", ["+", ["*", 2, ["ref", "Street.Category4.RestrictedAccess.Outline.Width"]], ["ref", "Street.Category4.RestrictedAccess.Width"]]]], ["ref", "Is.Unpaved"], ["case", ["<=", ["ref", "Street.Category4.Unpaved.Outline.Width"], 0], 0, ["world-scale", ["+", ["*", 2, ["ref", "Street.Category4.Unpaved.Outline.Width"]], ["ref", "Street.Category4.Unpaved.Width"]]]], ["ref", "Is.Ramp"], ["case", ["<=", ["ref", "Street.Category4.Ramp.Outline.Width"], 0], 0, ["world-scale", ["+", ["*", 2, ["ref", "Street.Category4.Ramp.Outline.Width"]], ["ref", "Street.Category4.Ramp.Width"]]]], ["ref", "Is.ParkingLot"], ["case", ["<=", ["ref", "Street.Category4.ParkingLot.Outline.Width"], 0], 0, ["world-scale", ["+", ["*", 2, ["ref", "Street.Category4.ParkingLot.Outline.Width"]], ["ref", "Street.Category4.ParkingLot.Width"]]]], ["ref", "Is.RestrictedAccess"], ["case", ["<=", ["ref", "Street.Category4.RestrictedAccess.Outline.Width"], 0], 0, ["world-scale", ["+", ["*", 2, ["ref", "Street.Category4.RestrictedAccess.Outline.Width"]], ["ref", "Street.Category4.RestrictedAccess.Width"]]]], ["case", ["<=", ["ref", "Street.Category4.Outline.Width"], 0], 0, ["world-scale", ["+", ["*", 2, ["ref", "Street.Category4.Outline.Width"]], ["ref", "Street.Category4.Width"]]]]], "dasharray": ["case", ["all", ["ref", "Is.Tunnel"], ["!", ["ref", "Is.UnderConstruction"]]], ["ref", "Internal.Street.Tunnel.DashArray"], ["ref", "Is.UnderConstruction"], ["make-vector", ["world-discrete-scale", ["ref", "Street.Category4.Construction.Gap.Length"]], ["world-discrete-scale", ["ref", "Street.Category4.Construction.Dash.Length"]], 0, 0], null], "softdepth": ["ref", "SoftDepth.Threshold"]}}, {"id": "bridge_extra_outlines_4", "layer": "tilezen_lines", "when": ["all", ["ref", "Is.Roads.Layer"], ["ref", "Is.Street.Category4"], ["!", ["ref", "Is.Japan.HasPolygonalRoads"]], ["ref", "Is.Bridge"], ["!", ["ref", "Is.RailFerry"]]], "technique": "line", "description": "Street Category 4 Bridge Extra Outline", "attr": {"category": ["case", ["any", ["ref", "Is.Not.RoadZLevel"], ["==", ["get", "source"], "ipc"], ["<", ["get", "$storage-level"], 14]], "bridge-outline-4-extra", ["<=", ["get", "z_level"], -1], "bridge-outline-4-extra--1", ["==", ["get", "z_level"], 0], "bridge-outline-4-extra-0", ["==", ["get", "z_level"], 1], "bridge-outline-4-extra-1", [">=", ["get", "z_level"], 2], "bridge-outline-4-extra-2", "bridge-outline-4-extra"], "minZoomLevel": ["ref", "Street.Category4.MinZoomLevel"], "maxZoomLevel": ["ref", "Internal.Street.Having.PolygonalRoads.MaxZoomLevel"], "lighting-enabled": ["ref", "Lighting.Enabled"], "ambient": ["ref", "Street.Category4.Ambient.Factor"], "diffuse": ["ref", "Street.Category4.Diffuse.Factor"], "alpha-blend-type": ["ref", "Alpha.Blend.Type"], "cap": "butt", "color": ["case", ["ref", "Is.Toll.Enabled"], ["ref", "Street.Category4.TollBridge.Color"], ["ref", "Street.Category4.Bridge.Color"]], "dash-gap-color": ["ref", "Transparent.Color"], "width": ["case", ["ref", "Is.Ramp"], ["case", ["<=", ["ref", "Street.Category4.Ramp.Outline.Width"], 0], 0, ["world-scale", ["+", ["+", ["*", 2, ["ref", "Street.Category4.Bridge.Outline.Width"]], ["*", 2, ["ref", "Street.Category4.Ramp.Outline.Width"]]], ["ref", "Street.Category4.Ramp.Width"]]]], ["case", ["<=", ["ref", "Street.Category4.Outline.Width"], 0], 0, ["world-scale", ["+", ["+", ["*", 2, ["ref", "Street.Category4.Bridge.Outline.Width"]], ["*", 2, ["ref", "Street.Category4.Outline.Width"]]], ["ref", "Street.Category4.Width"]]]]], "dasharray": ["case", ["ref", "Is.UnderConstruction"], ["make-vector", ["world-discrete-scale", ["ref", "Street.Category4.Construction.Gap.Length"]], ["world-discrete-scale", ["ref", "Street.Category4.Construction.Dash.Length"]], 0, 0], null], "softdepth": ["ref", "SoftDepth.Threshold"]}}]}