{"styles": [{"id": "building_text", "layer": "tilezen_building_addresses", "when": ["all", ["ref", "Is.Building.Label.Layer"], ["any", ["ref", "Is.Building"], ["ref", "Is.Building.Address.Layer"]], ["ref", "Building.Label.Display.Enabled"]], "technique": "text", "description": "Building Labels", "attr": {"category": ["case", ["ref", "Is.Building.Address.Layer"], "buildings-address-labels", ["ref", "Is.Building"], "buildings-info-labels", "buildings-info-labels"], "minZoomLevel": ["case", ["ref", "Is.Building.Address.Layer"], ["ref", "BuildingAddress.MinZoomLevel"], ["ref", "Is.Building"], 17, 18], "margin": ["case", ["ref", "Is.Building.Address.Layer"], ["ref", "Numbers.Margin"], ["ref", "Is.Building"], ["ref", "Default.Margin"], ["ref", "Default.Margin"]], "persisting-margin-reducing": ["case", ["ref", "Is.Building.Address.Layer"], ["ref", "Numbers.PersistingMargin.Reducing"], ["ref", "Is.Building"], ["ref", "Default.PersistingMargin.Reducing"], ["ref", "Default.PersistingMargin.Reducing"]], "attribute-name": ["case", ["ref", "Is.Building.Address.Layer"], "addr_housenumber", null], "far-threshold-range": 0.015, "fade-time": 0.3, "replaceable": true, "new-label-spread-frames": 10, "far-threshold": ["case", ["ref", "Is.Building.Address.Layer"], ["interpolate", ["linear"], ["zoom"], 18, 0.7, 19, 0.55, 20, 0.4], ["ref", "Is.Building"], ["interpolate", ["linear"], ["zoom"], 18, 0.7, 19, 0.6, 20, 0.5], 0.7], "color": ["case", ["ref", "Is.Building.Address.Layer"], ["contrast", ["brightness", ["ref", "BuildingAddress.Label.Color"], ["ref", "Building.Label.Color.Brightness"]], ["ref", "Building.Label.Color.Contrast"]], ["ref", "Is.Building"], ["contrast", ["brightness", ["ref", "Building.Label.Color"], ["ref", "Building.Label.Color.Brightness"]], ["ref", "Building.Label.Color.Contrast"]], ["contrast", ["brightness", ["ref", "Building.Label.Color"], ["ref", "Building.Label.Color.Brightness"]], ["ref", "Building.Label.Color.Contrast"]]], "outline-color": ["case", ["ref", "Is.Building.Address.Layer"], ["contrast", ["brightness", ["ref", "BuildingAddress.Label.Outline.Color"], ["ref", "Building.Label.Outline.Color.Brightness"]], ["ref", "Building.Label.Outline.Color.Contrast"]], ["ref", "Is.Building"], ["contrast", ["brightness", ["ref", "Building.Label.Outline.Color"], ["ref", "Building.Label.Outline.Color.Brightness"]], ["ref", "Building.Label.Outline.Color.Contrast"]], ["contrast", ["brightness", ["ref", "Building.Label.Outline.Color"], ["ref", "Building.Label.Outline.Color.Brightness"]], ["ref", "Building.Label.Outline.Color.Contrast"]]], "size": ["case", ["ref", "Is.Building.Address.Layer"], ["ppi-scale", ["ref", "Internal.BuildingAddress.Label.Size"], ["ref", "ScalePPI.Labels"]], ["ref", "Is.Building"], ["ppi-scale", ["ref", "Internal.Building.Label.Size"], ["ref", "ScalePPI.Labels"]], ["ppi-scale", ["ref", "Internal.Building.Label.Size"], ["ref", "ScalePPI.Labels"]]], "outline-width": ["case", ["ref", "Is.Building.Address.Layer"], ["ppi-scale", ["ref", "BuildingAddress.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], ["ref", "Is.Building"], ["ppi-scale", ["ref", "Building.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], ["ppi-scale", ["ref", "Building.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]]], "case-conversion": ["ref", "Building.Label.Variant"], "font": ["ref", "Default.Font"], "break-line": true, "shape": "point"}}, {"id": "building_footprints", "layer": "tilezen_building_footprints", "when": ["all", ["any", ["ref", "Is.Building.Layer"], ["ref", "Is.Transit.Layer"]]], "technique": "polygon", "description": "Building Footprint", "attr": {"category": "building-footprint", "minZoomLevel": ["ref", "Building.MinZoomLevel"], "maxZoomLevel": ["case", ["ref", "Building.WithoutLandmark"], ["ref", "Building.MaxZoomLevel"], ["case", ["ref", "Internal.Landmark.Enabled"], ["ref", "Building.WithLandmark.MaxZoomLevel"], ["ref", "Building.MaxZoomLevel"]]], "lighting-enabled": ["ref", "Lighting.Enabled"], "opacity": ["ref", "Global.Polygon.Opacity"], "ambient": ["ref", "Building.Ambient.Factor"], "color": ["ref", "Building.Color"], "diffuse": ["ref", "Building.Diffuse.Factor"], "softdepth": ["ref", "SoftDepth.Threshold"]}}, {"id": "building_footprints_outlines", "layer": "tilezen_building_footprints_outlines", "when": ["all", ["any", ["ref", "Is.Building.Layer"], ["ref", "Is.Transit.Layer"]]], "technique": "line", "description": "Building Footprint Outline", "attr": {"category": "building-footprint-outline", "minZoomLevel": ["ref", "Building.MinZoomLevel"], "maxZoomLevel": ["case", ["ref", "Building.WithoutLandmark"], ["ref", "Building.MaxZoomLevel"], ["case", ["ref", "Internal.Landmark.Enabled"], ["ref", "Building.WithLandmark.MaxZoomLevel"], ["ref", "Building.MaxZoomLevel"]]], "lighting-enabled": ["ref", "Lighting.Enabled"], "ambient": ["ref", "Building.Outline.Ambient.Factor"], "diffuse": ["ref", "Building.Outline.Diffuse.Factor"], "opacity": ["ref", "Global.Polygon.Opacity"], "width": ["world-scale", ["ref", "Building.Outline.Width"]], "color": ["ref", "Building.Outline.Color"], "softdepth": ["ref", "SoftDepth.Threshold"]}}, {"id": "extruded_building_depth", "layer": "tilezen_volumes", "when": ["all", ["any", ["ref", "Is.Building.Layer"], ["ref", "Is.Transit.Layer"]]], "technique": "extruded_building", "description": "Extruded building depth", "attr": {"category": "depth", "minZoomLevel": ["case", ["ref", "Is.Special.Building"], ["ref", "ExtrudedBuilding.Special.MinZoomLevel"], ["ref", "ExtrudedBuilding.MinZoomLevel"]], "maxZoomLevel": ["case", ["ref", "Building.WithoutLandmark"], "default", ["ref", "ExtrudedBuilding.WithLandmark.MaxZoomLevel"]], "scale": ["ref", "ExtrudedBuilding.Scale"], "far-fade-distance": ["ref", "ExtrudedBuilding.FadeDistance.Far"], "start-fade-distance": ["ref", "ExtrudedBuilding.FadeDistance.Start"], "wall-color": ["ref", "ExtrudedBuilding.Color"], "roof-color": ["ref", "ExtrudedBuilding.Color"]}}, {"id": "extruded_building_offscreen_depth", "layer": "tilezen_volumes", "when": ["all", ["any", ["ref", "Is.Building.Layer"], ["ref", "Is.Transit.Layer"]]], "technique": "extruded_building", "description": "Extruded building offscreen-depth", "attr": {"category": "offscreen-depth", "minZoomLevel": ["case", ["ref", "Is.Special.Building"], ["ref", "ExtrudedBuilding.Special.MinZoomLevel"], ["ref", "ExtrudedBuilding.MinZoomLevel"]], "maxZoomLevel": ["case", ["ref", "Building.WithoutLandmark"], "default", ["ref", "ExtrudedBuilding.WithLandmark.MaxZoomLevel"]], "scale": ["ref", "ExtrudedBuilding.Scale"], "far-fade-distance": ["ref", "ExtrudedBuilding.FadeDistance.Far"], "start-fade-distance": ["ref", "ExtrudedBuilding.FadeDistance.Start"], "wall-color": ["ref", "ExtrudedBuilding.Color"], "roof-color": ["ref", "ExtrudedBuilding.Color"]}}, {"id": "extruded_building", "layer": "tilezen_volumes", "when": ["all", ["any", ["ref", "Is.Building.Layer"], ["ref", "Is.Transit.Layer"]]], "technique": "extruded_building", "description": "Extruded building", "attr": {"category": "extruded-building", "minZoomLevel": ["case", ["ref", "Is.Special.Building"], ["ref", "ExtrudedBuilding.Special.MinZoomLevel"], ["ref", "ExtrudedBuilding.MinZoomLevel"]], "maxZoomLevel": ["case", ["ref", "Building.WithoutLandmark"], "default", ["ref", "ExtrudedBuilding.WithLandmark.MaxZoomLevel"]], "shadow-caster": true, "linearize-color": ["ref", "Building.LinearizedColor.Enabled"], "fakeAO-height": ["ref", "ExtrudedBuilding.FakeAO.Height"], "fakeAO-color": ["fade-out", ["darken", ["ref", "ExtrudedBuilding.Color"], 1], ["ref", "Building.FakeAO.FadeOut.Factor"]], "wall-diffuse": ["ref", "ExtrudedBuilding.Diffuse.Factor"], "wall-ambient": ["ref", "ExtrudedBuilding.Ambient.Factor"], "wall-ambient-occlusion": ["ref", "AmbientOcclusion.ExtrudedBuilding.Wall.Intensity"], "wall-specular": ["ref", "ExtrudedBuilding.Specular.Factor"], "roof-diffuse": ["ref", "ExtrudedBuilding.Diffuse.Factor"], "roof-ambient": ["ref", "ExtrudedBuilding.Ambient.Factor"], "roof-ambient-occlusion": ["ref", "AmbientOcclusion.ExtrudedBuilding.Roof.Intensity"], "ambient-occlusion-color": ["ref", "AmbientOcclusion.Color"], "roof-specular": ["ref", "ExtrudedBuilding.Specular.Factor"], "scale": ["ref", "ExtrudedBuilding.Scale"], "roof-shininess": ["ref", "ExtrudedBuilding.Roof.Shininess"], "wall-shininess": ["ref", "ExtrudedBuilding.Wall.Shininess"], "far-fade-distance": ["ref", "ExtrudedBuilding.FadeDistance.Far"], "start-fade-distance": ["ref", "ExtrudedBuilding.FadeDistance.Start"], "gradient-color-ambient": ["fade-out", ["darken", ["ref", "ExtrudedBuilding.Color"], 1], ["ref", "Building.Gradient.FadeOut.Factor"]], "gradient-color-diffuse": ["fade-out", ["darken", ["ref", "ExtrudedBuilding.Color"], 1], ["ref", "Building.Gradient.FadeOut.Factor"]], "wall-color": ["ref", "ExtrudedBuilding.Color"], "roof-color": ["ref", "ExtrudedBuilding.Color"], "enable-lane-depth-check": true}}, {"id": "extruded_building_outlines", "layer": "tilezen_volumes", "when": ["all", ["any", ["ref", "Is.Building.Layer"], ["ref", "Is.Transit.Layer"]]], "technique": "extruded_building_outline", "description": "Extruded building outline", "attr": {"category": "extruded-building-outline", "minZoomLevel": ["case", ["ref", "Is.Special.Building"], ["ref", "ExtrudedBuilding.Special.MinZoomLevel"], ["ref", "ExtrudedBuilding.MinZoomLevel"]], "maxZoomLevel": ["case", ["ref", "Building.WithoutLandmark"], "default", ["ref", "ExtrudedBuilding.WithLandmark.MaxZoomLevel"]], "lighting-enabled": ["ref", "ExtrudedBuilding.Outline.Lighting.Enabled"], "ambient": ["ref", "ExtrudedBuilding.Outline.Ambient.Factor"], "diffuse": ["ref", "ExtrudedBuilding.Outline.Diffuse.Factor"], "wall-ambient-occlusion": ["ref", "AmbientOcclusion.ExtrudedBuilding.Outline.Wall.Intensity"], "roof-ambient-occlusion": ["ref", "AmbientOcclusion.ExtrudedBuilding.Outline.Roof.Intensity"], "ambient-occlusion-color": ["ref", "AmbientOcclusion.Color"], "far-fade-distance": ["ref", "ExtrudedBuilding.FadeDistance.Far"], "start-fade-distance": ["ref", "ExtrudedBuilding.FadeDistance.Start"], "width": ["world-scale", ["ref", "ExtrudedBuilding.Outline.Width"]], "scale": ["ref", "ExtrudedBuilding.Scale"], "color": ["ref", "ExtrudedBuilding.Outline.Color"], "softdepth": ["ref", "SoftDepth.Threshold"], "enable-lane-depth-check": true}}, {"id": "extruded_building_offscreen_ssao_input", "layer": "tilezen_volumes", "when": ["all", ["any", ["ref", "Is.Building.Layer"], ["ref", "Is.Transit.Layer"]]], "technique": "extruded_building", "description": "Extruded buildings to offscreen with data necessary for screen space ambient occlusion.", "attr": {"category": "offscreen-ssao-input", "minZoomLevel": ["case", ["ref", "Is.Special.Building"], ["ref", "ExtrudedBuilding.Special.MinZoomLevel"], ["ref", "ExtrudedBuilding.MinZoomLevel"]], "maxZoomLevel": ["case", ["ref", "Building.WithoutLandmark"], "default", ["ref", "ExtrudedBuilding.WithLandmark.MaxZoomLevel"]], "scale": ["ref", "ExtrudedBuilding.Scale"]}}]}