{"styles": [{"id": "traffic_incident_icon", "layer": "incident_icons", "when": ["all", ["ref", "Is.Traffic.IncidentIcon.Layer"], ["!", ["ref", "Is.Traffic.PrimaryIncident"]]], "technique": "icon", "description": "Traffic Incident Icons", "attr": {"category": ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], "traffic-icon-road_closure", ["ref", "Is.Traffic.Incident.Accident"], "traffic-icon-accident", ["ref", "Is.Traffic.Incident.Congestion"], "traffic-icon-congestion", ["ref", "Is.Traffic.Incident.Construction"], "traffic-icon-construction", ["ref", "Is.Traffic.Incident.DisabledVehicle"], "traffic-icon-disabled_vehicle", ["ref", "Is.Traffic.Incident.MassTransit"], "traffic-icon-mass_transit", ["ref", "Is.Traffic.Incident.LaneRestriction"], "traffic-icon-lane_restriction", ["ref", "Is.Traffic.Incident.PlannedEvent"], "traffic-icon-planned_event", ["ref", "Is.Traffic.Incident.RoadHazard"], "traffic-icon-road_hazard", ["ref", "Is.Traffic.Incident.Weather"], "traffic-icon-weather", "traffic-icon-other"], "minZoomLevel": ["ref", "Internal.Traffic.Incident.MinZoomLevel"], "far-threshold": 0.9, "far-threshold-range": 0.015, "fade-time": 0.3, "replaceable": true, "new-label-spread-frames": 10, "placement": "T", "perspective-scale-min": ["ref", "Icon.PerspectiveScaling.Min"], "perspective-scale-max": ["ref", "Icon.PerspectiveScaling.Max"], "width": ["ppi-scale", ["ref", "Traffic.Icon.Size"], ["ref", "ScalePPI.Labels"]], "world-line-offset": ["case", ["all", ["ref", "Is.Traffic.Street.Category4"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category4.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category4"], ["world-scale", ["ref", "Traffic.Category4.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category3"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category3.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category3"], ["world-scale", ["ref", "Traffic.Category3.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category2"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category2.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category2"], ["world-scale", ["ref", "Traffic.Category2.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category1"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category1.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category1"], ["world-scale", ["ref", "Traffic.Category1.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category0"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category0.Ramp.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category0"]], ["world-scale", ["ref", "Traffic.Category0.Offset"]], null], "brightness": ["ref", "Traffic.Icon.Brightness"], "shadow-enabled": ["ref", "Traffic.Icon.Shadow.Enabled"], "shadow-color": ["ref", "Icon.Shadow.Color"], "shadow-blur-radius": ["ref", "Icon.Shadow.BlurRadius"], "shadow-size-increment": ["ref", "Icon.Shadow.SizeIncrement"], "shadow-dx": ["ref", "Icon.Shadow.DistanceX"], "shadow-dy": ["-", ["ref", "Icon.Shadow.DistanceY"]], "shadow-shear-factor-x": ["ref", "Icon.Shadow.ShearFactorX"], "shadow-shear-factor-y": ["ref", "Icon.Shadow.ShearFactorY"], "source": ["ref", "Misc.Icon.Traffic.Lookup.FileName"]}}, {"id": "traffic_incident_line", "layer": "traffic_incidents", "when": ["ref", "Is.Traffic.Incident.Layer"], "technique": "line", "description": "Traffic Incident Line", "attr": {"category": ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], "traffic-incidents-closure", "traffic-incidents"], "minZoomLevel": ["ref", "Internal.Traffic.Incident.MinZoomLevel"], "alpha-blend-type": ["ref", "Traffic.Alpha.Blend.Type"], "cap": "butt", "color": ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], ["darken", ["contrast", ["ref", "Traffic.Incident.RoadClosure.Color"], ["ref", "Traffic.Contrast.Factor"]], ["ref", "Traffic.Darken.Factor"]], ["darken", ["contrast", ["ref", "Traffic.Incident.Color"], ["ref", "Traffic.Contrast.Factor"]], ["ref", "Traffic.Darken.Factor"]]], "dash-gap-color": ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], ["darken", ["contrast", ["ref", "Traffic.Incident.RoadClosure.Second.Color"], ["ref", "Traffic.Contrast.Factor"]], ["ref", "Traffic.Darken.Factor"]], "#00000000"], "width": ["case", ["ref", "Is.Traffic.Street.Category4"], ["world-scale", ["ref", "Traffic.Category4.Width"]], ["ref", "Is.Traffic.Street.Category3"], ["world-scale", ["ref", "Traffic.Category3.Width"]], ["ref", "Is.Traffic.Street.Category2"], ["world-scale", ["ref", "Traffic.Category2.Width"]], ["ref", "Is.Traffic.Street.Category1"], ["world-scale", ["ref", "Traffic.Category1.Width"]], ["ref", "Is.Traffic.Street.Category0"], ["world-scale", ["ref", "Traffic.Category0.Width"]], null], "offset": ["*", ["ref", "Is.Traffic.OffsetDirection"], ["case", ["all", ["ref", "Is.Traffic.Street.Category4"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category4.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category4"], ["world-scale", ["ref", "Traffic.Category4.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category3"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category3.Ramp.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category3"]], ["world-scale", ["ref", "Traffic.Category3.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category2"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category2.Ramp.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category2"]], ["world-scale", ["ref", "Traffic.Category2.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category1"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category1.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category1"], ["world-scale", ["ref", "Traffic.Category1.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category0"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category0.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category0"], ["world-scale", ["ref", "Traffic.Category0.Offset"]], null]], "dasharray": ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], ["make-vector", ["world-discrete-scale", ["ref", "Traffic.Incident.Dash.Length"]], ["world-discrete-scale", ["ref", "Traffic.Incident.Gap.Length"]], 0, 0], ["make-vector", ["world-discrete-scale", ["ref", "Traffic.Incident.Gap.Length"]], ["world-discrete-scale", ["ref", "Traffic.Incident.Dash.Length"]], 0, 0]], "softdepth": ["ref", "SoftDepth.Threshold"]}}, {"id": "traffic_incident_outline", "layer": "traffic_incidents", "when": ["ref", "Is.Traffic.Incident.Layer"], "technique": "line", "description": "Traffic Incident Outline", "attr": {"category": ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], "traffic-incidents-closure-outline", "traffic-incidents-outline"], "minZoomLevel": ["ref", "Internal.Traffic.Incident.MinZoomLevel"], "alpha-blend-type": ["ref", "Traffic.Alpha.Blend.Type"], "color": ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], ["darken", ["contrast", ["ref", "Traffic.Incident.RoadClosure.Outline.Color"], ["ref", "Traffic.Outline.Contrast.Factor"]], ["ref", "Traffic.Outline.Darken.Factor"]], ["darken", ["contrast", ["ref", "Traffic.Incident.Outline.Color"], ["ref", "Traffic.Outline.Contrast.Factor"]], ["ref", "Traffic.Outline.Darken.Factor"]]], "width": ["case", ["ref", "Is.Traffic.Street.Category4"], ["world-scale", ["+", ["*", 2, ["ref", "Traffic.Category4.Outline.Width"]], ["ref", "Traffic.Category4.Width"]]], ["ref", "Is.Traffic.Street.Category3"], ["world-scale", ["+", ["*", 2, ["ref", "Traffic.Category3.Outline.Width"]], ["ref", "Traffic.Category3.Width"]]], ["ref", "Is.Traffic.Street.Category2"], ["world-scale", ["+", ["*", 2, ["ref", "Traffic.Category2.Outline.Width"]], ["ref", "Traffic.Category2.Width"]]], ["ref", "Is.Traffic.Street.Category1"], ["world-scale", ["+", ["*", 2, ["ref", "Traffic.Category1.Outline.Width"]], ["ref", "Traffic.Category1.Width"]]], ["ref", "Is.Traffic.Street.Category0"], ["world-scale", ["+", ["*", 2, ["ref", "Traffic.Category0.Outline.Width"]], ["ref", "Traffic.Category0.Width"]]], null], "offset": ["*", ["ref", "Is.Traffic.OffsetDirection"], ["case", ["all", ["ref", "Is.Traffic.Street.Category4"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category4.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category4"], ["world-scale", ["ref", "Traffic.Category4.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category3"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category3.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category3"], ["world-scale", ["ref", "Traffic.Category3.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category2"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category2.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category2"], ["world-scale", ["ref", "Traffic.Category2.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category1"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category1.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category1"], ["world-scale", ["ref", "Traffic.Category1.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category0"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category0.Ramp.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category0"]], ["world-scale", ["ref", "Traffic.Category0.Offset"]], null]], "softdepth": ["ref", "SoftDepth.Threshold"]}}, {"id": "texture_traffic_incident_line", "layer": "traffic_incidents", "when": ["all", ["ref", "Is.Traffic.Incident.Layer"], ["ref", "Traffic.Incident.Texture.Enabled"]], "technique": "line", "description": "Cockpit Traffic Incident Line", "attr": {"category": ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], "traffic-incidents-closure", "traffic-incidents"], "minZoomLevel": ["ref", "Internal.Traffic.Incident.MinZoomLevel"], "alpha-blend-type": ["ref", "Traffic.Alpha.Blend.Type"], "cap": "butt", "start-fade-distance": ["ref", "Traffic.FadeDistance.Start"], "far-fade-distance": ["ref", "Traffic.FadeDistance.Far"], "dash-gap-color": ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], ["darken", ["contrast", ["ref", "Traffic.Incident.RoadClosure.Texture.Color"], ["ref", "Traffic.Contrast.Factor"]], ["ref", "Traffic.Darken.Factor"]], ["darken", ["contrast", ["ref", "Traffic.Incident.Texture.Color"], ["ref", "Traffic.Contrast.Factor"]], ["ref", "Traffic.Darken.Factor"]]], "color": "#00000000", "width": ["case", ["ref", "Is.Traffic.Street.Category4"], ["world-scale", ["ref", "Traffic.Category4.Width"]], ["ref", "Is.Traffic.Street.Category3"], ["world-scale", ["ref", "Traffic.Category3.Width"]], ["ref", "Is.Traffic.Street.Category2"], ["world-scale", ["ref", "Traffic.Category2.Width"]], ["ref", "Is.Traffic.Street.Category1"], ["world-scale", ["ref", "Traffic.Category1.Width"]], ["ref", "Is.Traffic.Street.Category0"], ["world-scale", ["ref", "Traffic.Category0.Width"]], null], "offset": ["*", ["ref", "Is.Traffic.OffsetDirection"], ["case", ["all", ["ref", "Is.Traffic.Street.Category4"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category4.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category4"], ["world-scale", ["ref", "Traffic.Category4.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category3"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category3.Ramp.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category3"]], ["world-scale", ["ref", "Traffic.Category3.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category2"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category2.Ramp.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category2"]], ["world-scale", ["ref", "Traffic.Category2.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category1"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category1.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category1"], ["world-scale", ["ref", "Traffic.Category1.Offset"]], ["all", ["ref", "Is.Traffic.Street.Category0"], ["ref", "Is.Traffic.Ramp"]], ["world-scale", ["ref", "Traffic.Category0.Ramp.Offset"]], ["ref", "Is.Traffic.Street.Category0"], ["world-scale", ["ref", "Traffic.Category0.Offset"]], null]], "dasharray": ["make-vector", ["case", ["ref", "Is.Traffic.Street.Category4"], ["world-scale", ["ref", "Traffic.Category4.Width"]], ["ref", "Is.Traffic.Street.Category3"], ["world-scale", ["ref", "Traffic.Category3.Width"]], ["ref", "Is.Traffic.Street.Category2"], ["world-scale", ["ref", "Traffic.Category2.Width"]], ["ref", "Is.Traffic.Street.Category1"], ["world-scale", ["ref", "Traffic.Category1.Width"]], ["ref", "Is.Traffic.Street.Category0"], ["world-scale", ["ref", "Traffic.Category0.Width"]], null], ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], ["ref", "Traffic.Incident.RoadClosure.Texture.Gap.Length"], ["ref", "Traffic.Incident.Texture.Gap.Length"]], 0, 0], "dash-image": ["case", ["ref", "Is.Traffic.Incident.RoadClosure"], ["ref", "Traffic.Incident.RoadClosure.Texture.Asset"], ["ref", "Traffic.Incident.Texture.Asset"]], "softdepth": ["ref", "SoftDepth.Threshold"]}}]}