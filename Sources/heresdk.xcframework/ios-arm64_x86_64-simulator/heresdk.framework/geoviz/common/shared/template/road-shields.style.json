{"styles": [{"id": "road_shield_labels", "layer": "tilezen_road_shield_labels", "when": ["all", ["any", ["ref", "Is.RoadShield.Class0"], ["ref", "Is.RoadShield.Class1"], ["ref", "Is.RoadShield.Class2"], ["ref", "Is.RoadShield.Class3"], ["ref", "Is.RoadShield.Class4"]], ["ref", "RoadShield.Icon.Lookup.FileName"], ["<=", ["length", ["get", "$localized-name"]], ["ref", "RoadShield.Icon.Lookup.MaxNumberChars"]], ["==", ["ref", "RoadShield.Icon.Lookup.MapDisplayFlag"], "yes"], ["ref", "RoadShield.Display.Enabled"]], "technique": "icon-text", "description": "Road Shields", "attr": {"category": ["case", ["ref", "Is.RoadShield.Class0"], "road-shield0-labels", ["ref", "Is.RoadShield.Class1"], "road-shield1-labels", ["ref", "Is.RoadShield.Class2"], "road-shield2-labels", ["ref", "Is.RoadShield.Class3"], "road-shield3-labels", ["ref", "Is.RoadShield.Class4"], "road-shield4-labels", null], "margin": ["ppi-scale", ["ref", "RoadShield.Margin"], ["ref", "ScalePPI.Labels"]], "group-margin": 1, "check-margin": ["ppi-scale", ["ref", "Default.Margin"], ["ref", "ScalePPI.Labels"]], "persisting-margin-reducing": ["ppi-scale", ["ref", "Default.PersistingMargin.Reducing"], ["ref", "ScalePPI.Labels"]], "anchor-point-density": ["ref", "RoadShield.AnchorPointDensity"], "anchor-order-preference": "BasicGroupedStartFromCenter", "far-threshold": 0.8, "far-threshold-range": 0.025, "new-label-spread-frames": 10, "font-bold-amount": ["ref", "RoadShield.Label.Style"], "font": ["ref", "Default.Font"], "text-size": ["ppi-scale", ["*", ["ref", "RoadShield.Label.Size"], ["ref", "RoadShield.Label.SizeFactor"]], ["ref", "ScalePPI.Labels"]], "text-color": ["ref", "RoadShield.Icon.Lookup.FontColorLight"], "icon-width": ["case", ["==", ["length", ["get", "$localized-name"]], 3], ["ppi-scale", ["*", ["*", ["ref", "RoadShield.Icon.Lookup.Width"], 1.15], ["ref", "RoadShield.Label.SizeFactor"]], ["ref", "ScalePPI.Labels"]], ["==", ["length", ["get", "$localized-name"]], 4], ["ppi-scale", ["*", ["*", ["ref", "RoadShield.Icon.Lookup.Width"], 1.45], ["ref", "RoadShield.Label.SizeFactor"]], ["ref", "ScalePPI.Labels"]], ["==", ["length", ["get", "$localized-name"]], 5], ["ppi-scale", ["*", ["*", ["ref", "RoadShield.Icon.Lookup.Width"], 1.65], ["ref", "RoadShield.Label.SizeFactor"]], ["ref", "ScalePPI.Labels"]], ["==", ["length", ["get", "$localized-name"]], 6], ["ppi-scale", ["*", ["*", ["ref", "RoadShield.Icon.Lookup.Width"], 1.9], ["ref", "RoadShield.Label.SizeFactor"]], ["ref", "ScalePPI.Labels"]], ["==", ["length", ["get", "$localized-name"]], 7], ["ppi-scale", ["*", ["*", ["ref", "RoadShield.Icon.Lookup.Width"], 2.15], ["ref", "RoadShield.Label.SizeFactor"]], ["ref", "ScalePPI.Labels"]], ["==", ["length", ["get", "$localized-name"]], 8], ["ppi-scale", ["*", ["*", ["ref", "RoadShield.Icon.Lookup.Width"], 2.4], ["ref", "RoadShield.Label.SizeFactor"]], ["ref", "ScalePPI.Labels"]], ["==", ["length", ["get", "$localized-name"]], 9], ["ppi-scale", ["*", ["*", ["ref", "RoadShield.Icon.Lookup.Width"], 2.65], ["ref", "RoadShield.Label.SizeFactor"]], ["ref", "ScalePPI.Labels"]], [">=", ["length", ["get", "$localized-name"]], 10], ["ppi-scale", ["*", ["*", ["ref", "RoadShield.Icon.Lookup.Width"], 2.9], ["ref", "RoadShield.Label.SizeFactor"]], ["ref", "ScalePPI.Labels"]], ["ppi-scale", ["*", ["ref", "RoadShield.Icon.Lookup.Width"], ["ref", "RoadShield.Label.SizeFactor"]], ["ref", "ScalePPI.Labels"]]], "icon-height": ["ppi-scale", ["*", ["ref", "RoadShield.Icon.Lookup.Height"], ["ref", "RoadShield.Label.SizeFactor"]], ["ref", "ScalePPI.Labels"]], "text-dx": ["ppi-scale", ["*", ["ref", "RoadShield.Label.SizeFactor"], ["ref", "RoadShield.Icon.Lookup.TextOffsetX"]], ["ref", "ScalePPI.Labels"]], "text-dy": ["ppi-scale", ["*", ["ref", "RoadShield.Label.SizeFactor"], ["ref", "RoadShield.Icon.Lookup.TextOffsetY"]], ["ref", "ScalePPI.Labels"]], "icon-brightness": ["ref", "RoadShield.Icon.Brightness"], "text-brightness": ["ref", "RoadShield.Label.Brightness"], "icon-shadow-enabled": ["ref", "RoadShield.Icon.Shadow.Enabled"], "icon-shadow-color": ["ref", "Icon.Shadow.Color"], "icon-shadow-blur-radius": ["ref", "Icon.Shadow.BlurRadius"], "icon-shadow-size-increment": ["ref", "Icon.Shadow.SizeIncrement"], "icon-shadow-shear-factor-x": ["ref", "Icon.Shadow.ShearFactorX"], "icon-shadow-shear-factor-y": ["ref", "Icon.Shadow.ShearFactorY"], "icon-shadow-dx": ["ref", "Icon.Shadow.DistanceX"], "icon-shadow-dy": ["-", ["ref", "Icon.Shadow.DistanceY"]], "icon-source": ["ref", "RoadShield.Icon.Lookup.FileName"], "iconMinZoomLevel": ["ref", "RoadShield.MinZoomLevel"], "textMinZoomLevel": ["ref", "RoadShield.MinZoomLevel"], "allow-cropped": ["ref", "AllowCroppedLabels"], "z-order": ["-", 10, ["to-number", ["ref", "RoadShield.Icon.Lookup.Priority"]]], "min-world-line-length": ["step", ["zoom"], 10000, 9.0, 5000, 10.0, 3000, 11.0, 2000, 12.0, 1000, 13.0, 0]}}]}