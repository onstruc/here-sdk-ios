{"styles": [{"id": "japan-pois", "extends": "pois", "layer": "tilezen_points", "when": ["==", ["get", "source"], "ipc"], "technique": "icon-text", "description": "Japan POIs with PDS category", "attr": {"category": ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan Traffic Light", ["case", ["ref", "Is.POI.Annotation.Intersection.Unnamed"], "japan-annotation-traffic-light-icons", "japan-annotation-traffic-light-labels"], "Japan Named Intersection", "japan-traffic-light-labels", "Japan Road Facility", "japan-road-facility-labels", ["Japan Public Transport", "Japan Public Transport Railway"], "japan-public-transport-labels", "Japan Governmental Office", "japan-governmental-office-labels", "Japan City Hall", "japan-city-hall-labels", ["base-attribute-value"]], "background-image": ["ref", "POI.Icon.Lookup.BillboardFileName"], "background-padding": ["ppi-scale", ["make-vector", 2.5, 2, 3, 2], ["ref", "ScalePPI.Labels"]], "icon-placement": ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan Named Intersection", "C", "Japan Transport Access", "C", "Japan Toll Booth", "C", "Japan Highway Ramps", "C", "Japan Road Facility", "C", ["base-attribute-value"]], "text-placement": ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan Named Intersection", "C", "Japan Transport Access", "C", "Japan Toll Booth", "C", "Japan Highway Ramps", "C", "Japan Traffic Light", "T", "Japan Road Facility", "T", ["base-attribute-value"]], "break-line": ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan Road Facility", false, ["base-attribute-value"]], "text-size": ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan Traffic Light", ["ppi-scale", ["ref", "POI.TrafficLight.Label.Size"], ["ref", "ScalePPI.Labels"]], "Japan Named Intersection", ["ppi-scale", ["ref", "POI.TrafficLight.Label.Size"], ["ref", "ScalePPI.Labels"]], "Japan Transport Access", ["ppi-scale", ["ref", "POI.TransitAccess.Label.Size"], ["ref", "ScalePPI.Labels"]], "Japan Road Facility", ["ppi-scale", ["ref", "POI.RoadFacility.Label.Size"], ["ref", "ScalePPI.Labels"]], "Japan Public Transport", ["ppi-scale", ["ref", "POI.TransitStop.Label.Size"], ["ref", "ScalePPI.Labels"]], "Japan Public Transport Railway", ["ppi-scale", ["ref", "POI.TransitStop.Railway.Label.Size"], ["ref", "ScalePPI.Labels"]], ["Japan Governmental Office", "Japan City Hall"], ["ppi-scale", ["ref", "POI.GovernmentalOffice.Label.Size"], ["ref", "ScalePPI.Labels"]], ["base-attribute-value"]], "text-outline-width": ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan Traffic Light", ["ppi-scale", ["ref", "POI.TrafficLight.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], "Japan Named Intersection", ["ppi-scale", ["ref", "POI.TrafficLight.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], "Japan Transport Access", ["ppi-scale", ["ref", "POI.TransitAccess.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], "Japan Road Facility", ["ppi-scale", ["ref", "POI.RoadFacility.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], "Japan Public Transport", ["ppi-scale", ["ref", "POI.TransitStop.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], "Japan Public Transport Railway", ["ppi-scale", ["ref", "POI.TransitStop.Railway.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], ["Japan Governmental Office", "Japan City Hall"], ["ppi-scale", ["ref", "POI.GovernmentalOffice.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], ["base-attribute-value"]], "text-color": ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan Traffic Light", ["ref", "POI.TrafficLight.Label.Color"], "Japan Named Intersection", ["ref", "POI.TrafficLight.Label.Color"], "Japan Transport Access", ["ref", "POI.TransitAccess.Label.Color"], "Japan Road Facility", ["ref", "POI.RoadFacility.Label.Color"], "Japan Public Transport", ["ref", "POI.TransitStop.Label.Color"], "Japan Public Transport Railway", ["ref", "POI.TransitStop.Railway.Label.Color"], ["Japan Governmental Office", "Japan City Hall"], ["ref", "POI.GovernmentalOffice.Label.Color"], ["base-attribute-value"]], "text-outline-color": ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan Traffic Light", ["ref", "POI.TrafficLight.Label.Outline.Color"], "Japan Named Intersection", ["ref", "POI.TrafficLight.Label.Outline.Color"], "Japan Transport Access", ["ref", "POI.TransitAccess.Label.Outline.Color"], "Japan Road Facility", ["ref", "POI.RoadFacility.Label.Outline.Color"], "Japan Public Transport", ["ref", "POI.TransitStop.Label.Outline.Color"], "Japan Public Transport Railway", ["ref", "POI.TransitStop.Railway.Label.Outline.Color"], ["Japan Governmental Office", "Japan City Hall"], ["ref", "POI.GovernmentalOffice.Label.Outline.Color"], ["base-attribute-value"]], "icon-height": ["case", ["==", ["ref", "POI.Icon.Lookup.IconMaxLevel"], 0], 0, ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan Traffic Light", ["ppi-scale", ["ref", "POI.TrafficLight.Icon.Size"], ["ref", "ScalePPI.Labels"]], "Japan Toll Booth", ["ppi-scale", ["ref", "POI.TollBooth.Icon.Size"], ["ref", "ScalePPI.Labels"]], "Japan Highway Ramps", ["ppi-scale", ["ref", "POI.HighwayRamps.Icon.Size"], ["ref", "ScalePPI.Labels"]], "Japan Road Facility", ["ppi-scale", ["ref", "POI.RoadFacility.Icon.Size"], ["ref", "ScalePPI.Labels"]], ["Japan Governmental Office", "Japan City Hall"], ["ppi-scale", ["ref", "POI.GovernmentalOffice.Icon.Size"], ["ref", "ScalePPI.Labels"]], ["Japan Public Transport", "Japan Public Transport Railway", "Japan - Ferry"], ["ref", "Internal.POI.TransitStop.IconSize"], ["base-attribute-value"]]], "icon-dy": ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan Traffic Light", ["/", ["-", ["ppi-scale", ["ref", "POI.TrafficLight.Icon.Size"], ["ref", "ScalePPI.Labels"]]], 2], "Japan Named Intersection", 0, "Japan Transport Access", 0, "Japan Toll Booth", 0, "Japan Highway Ramps", 0, ["Japan Public Transport", "Japan Public Transport Railway", "Japan - Ferry"], ["/", ["-", ["*", ["ref", "Internal.POI.TransitStop.IconSize"], ["interpolate", ["linear"], ["tilt"], 0, ["ref", "POI.TransitStop.Icon.AnchorPoint.TopDown"], 45, ["ref", "POI.TransitStop.Icon.AnchorPoint.Tilt"]]]], 2], ["base-attribute-value"]], "text-dy": ["case", ["==", ["ref", "POI.Icon.Lookup.IconMaxLevel"], 0], 0, ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan Traffic Light", ["ppi-scale", ["ref", "POI.TrafficLight.Label.OffsetY"], ["ref", "ScalePPI.Labels"]], "Japan Named Intersection", 0, "Japan Transport Access", 0, "Japan Toll Booth", 0, "Japan Highway Ramps", 0, "Japan Road Facility", ["ppi-scale", ["ref", "POI.RoadFacility.Label.OffsetY"], ["ref", "ScalePPI.Labels"]], ["Japan Governmental Office", "Japan City Hall"], ["ppi-scale", ["ref", "POI.Label.OffsetY"], ["ref", "ScalePPI.Labels"]], ["Japan Public Transport", "Japan Public Transport Railway", "Japan - Ferry"], ["ppi-scale", ["ref", "POI.TransitStop.Label.OffsetY"], ["ref", "ScalePPI.Labels"]], ["base-attribute-value"]]], "z-order": ["+", ["-", 100000, ["*", ["ref", "POI.Icon.Lookup.Priority"], 10]], ["-", 25, ["get", "min_zoom"]]], "iconMinZoomLevel": ["case", ["ref", "Is.POI.Annotation.Intersection.Unnamed"], 16, ["base-attribute-value"]]}}, {"id": "japan-pois_mountainpeaks", "extends": "pois_mountainpeaks", "layer": "tilezen_points", "when": ["==", ["get", "source"], "ipc"], "description": "Mountain Peaks + Elevation", "attr": {"category": "japan-mountain-peak-labels"}}, {"id": "japan-annotations", "extends": "japan-pois", "layer": "tilezen_points", "when": ["has", "display_type"], "description": "Japan Annotations with PDS category", "attr": {"category": ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan - Swamp", "japan-annotation-small-land-use-labels", "Japan - Ferry", "japan-annotation-ferry-labels", "Japan - Geo", "japan-annotation-geo-labels", "Japan Traffic Light", ["case", ["ref", "Is.POI.Annotation.Intersection.Unnamed"], "japan-annotation-traffic-light-icons", "japan-annotation-traffic-light-labels"], "Japan Named Intersection", "japan-annotation-traffic-light-labels", "Japan Road Facility", "japan-annotation-road-facility-labels", ["Japan Public Transport", "Japan Public Transport Railway"], "japan-annotation-public-transport-labels", "Japan Governmental Office", "japan-annotation-governmental-office-labels", "Japan City Hall", "japan-annotation-city-hall-labels", "Japan Mountain Peak", "japan-annotation-mountain-peak-labels", "Japan - Island", "japan-annotation-geo-labels", ["Japan Water - River", "Japan Water - Bay Harbor", "Japan Water - Lake"], "japan-annotation-water-labels", "japan-annotation-poi-labels"], "margin": ["match", ["ref", "POI.Icon.Lookup.Group"], ["Japan - Swamp", "Japan - Ferry", "Japan - Geo", "Japan - Island", "Japan Gradient", "Japan Traffic Light", "Japan Named Intersection", "Japan Road Facility", "Japan Highway Ramps", "Japan Mountain Peak"], ["ppi-scale", ["ref", "Default.Margin"], ["ref", "ScalePPI.Labels"]], ["ppi-scale", ["ref", "POI.Japan.Annotations.Margin"], ["ref", "ScalePPI.Labels"]]], "icon-placement": ["case", ["ref", "Is.POI.DisplayType.Label"], "C", ["base-attribute-value"]], "icon-height": ["case", ["ref", "Is.POI.DisplayType.Label"], 0, ["base-attribute-value"]], "text-placement": ["case", ["ref", "Is.POI.DisplayType.Label"], "C", ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan Traffic Light", "T", "Japan Road Facility", "T", ["base-attribute-value"]]], "text-size": ["case", ["ref", "Is.POI.DisplayType.Icon"], 0, ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan - Swamp", ["ppi-scale", ["ref", "Wetland.Label.Size"], ["ref", "ScalePPI.Labels"]], "Japan - Ferry", ["ppi-scale", ["ref", "Ferry.Label.Size"], ["ref", "ScalePPI.Labels"]], "Japan - Geo", ["ppi-scale", ["ref", "NatureLand.Label.Size"], ["ref", "ScalePPI.Labels"]], "Japan - Island", ["ppi-scale", ["ref", "Island.Label.Size"], ["ref", "ScalePPI.Labels"]], "Japan Water - River", ["ppi-scale", ["ref", "River.Label.Size"], ["ref", "ScalePPI.Labels"]], "Japan Water - Bay Harbor", ["ppi-scale", ["ref", "BayHarbor.Label.Size"], ["ref", "ScalePPI.Labels"]], "Japan Water - Lake", ["ppi-scale", ["ref", "Lake.Label.Size"], ["ref", "ScalePPI.Labels"]], "Japan Gradient", ["ppi-scale", ["ref", "Street.Category3.Label.Size"], ["ref", "ScalePPI.Labels"]], ["base-attribute-value"]]], "text-outline-width": ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan - Swamp", ["ppi-scale", ["ref", "Wetland.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], "Japan - Ferry", ["ppi-scale", ["ref", "Ferry.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], "Japan - Geo", ["ppi-scale", ["ref", "NatureLand.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], "Japan - Island", ["ppi-scale", ["ref", "Island.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], "Japan Water - River", ["ppi-scale", ["ref", "River.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], "Japan Water - Bay Harbor", ["ppi-scale", ["ref", "BayHarbor.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], "Japan Water - Lake", ["ppi-scale", ["ref", "Lake.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], "Japan Gradient", ["ppi-scale", ["ref", "Street.Category3.Label.Outline.Width"], ["ref", "ScalePPI.Labels"]], ["base-attribute-value"]], "text-color": ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan - Swamp", ["ref", "Wetland.Label.Color"], "Japan - Ferry", ["ref", "Ferry.Label.Color"], "Japan - Geo", ["ref", "NatureLand.Label.Color"], "Japan - Island", ["ref", "Island.Label.Color"], "Japan Water - River", ["ref", "River.Label.Color"], "Japan Water - Bay Harbor", ["ref", "BayHarbor.Label.Color"], "Japan Water - Lake", ["ref", "Lake.Label.Color"], "Japan Gradient", ["ref", "Street.Category3.Label.Color"], ["base-attribute-value"]], "text-outline-color": ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan - Swamp", ["ref", "Wetland.Label.Outline.Color"], "Japan - Ferry", ["ref", "Ferry.Label.Outline.Color"], "Japan - Geo", ["ref", "NatureLand.Label.Outline.Color"], "Japan - Island", ["ref", "Island.Label.Outline.Color"], "Japan Water - River", ["ref", "River.Label.Outline.Color"], "Japan Water - Bay Harbor", ["ref", "BayHarbor.Label.Outline.Color"], "Japan Water - Lake", ["ref", "Lake.Label.Outline.Color"], "Japan Gradient", ["ref", "Street.Category3.Label.Outline.Color"], ["base-attribute-value"]], "dy": ["case", ["ref", "Is.POI.DisplayType.Label"], 0, ["base-attribute-value"]], "text-dy": ["case", ["ref", "Is.POI.DisplayType.Label"], 0, ["base-attribute-value"]], "leading-space": ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan - Island", ["ppi-scale", ["ref", "Island.Label.Leading"], ["ref", "ScalePPI.Labels"]], "Japan Water - River", ["ppi-scale", ["ref", "River.Label.Leading"], ["ref", "ScalePPI.Labels"]], "Japan Water - Bay Harbor", ["ppi-scale", ["ref", "BayHarbor.Label.Leading"], ["ref", "ScalePPI.Labels"]], "Japan Water - Lake", ["ppi-scale", ["ref", "Lake.Label.Leading"], ["ref", "ScalePPI.Labels"]], ["base-attribute-value"]], "tracking-space": ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan - Island", ["ppi-scale", ["ref", "Island.Label.Tracking"], ["ref", "ScalePPI.Labels"]], "Japan Water - River", ["ppi-scale", ["ref", "River.Label.Tracking"], ["ref", "ScalePPI.Labels"]], "Japan Water - Bay Harbor", ["ppi-scale", ["ref", "BayHarbor.Label.Tracking"], ["ref", "ScalePPI.Labels"]], "Japan Water - Lake", ["ppi-scale", ["ref", "Lake.Label.Tracking"], ["ref", "ScalePPI.Labels"]], ["base-attribute-value"]], "font-slant-amount": ["match", ["ref", "POI.Icon.Lookup.Group"], "Japan Water - River", ["ref", "River.Label.Style"], "Japan Water - Bay Harbor", ["ref", "BayHarbor.Label.Style"], "Japan Water - Lake", ["ref", "Lake.Label.Style"], ["base-attribute-value"]], "iconMinZoomLevel": ["case", ["ref", "Is.POI.Annotation.RestrictedVisibility.Zoom13"], 13, ["ref", "Is.POI.Annotation.RestrictedVisibility.Zoom14"], 14, ["ref", "Is.POI.Annotation.RestrictedVisibility.Zoom15"], 15, ["ref", "Is.POI.Annotation.RestrictedVisibility.Zoom16"], 16, ["ref", "Is.POI.Annotation.RestrictedVisibility.Zoom17"], 17, null], "iconMaxZoomLevel": null, "textMinZoomLevel": ["case", ["ref", "Is.POI.Annotation.RestrictedVisibility.Zoom13"], 13, ["ref", "Is.POI.Annotation.RestrictedVisibility.Zoom14"], 14, ["ref", "Is.POI.Annotation.RestrictedVisibility.Zoom15"], 15, ["ref", "Is.POI.Annotation.RestrictedVisibility.Zoom16"], 16, ["ref", "Is.POI.Annotation.RestrictedVisibility.Zoom17"], 17, null], "textMaxZoomLevel": null}}]}